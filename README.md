motionless
==========

[![fury.io](https://badge.fury.io/py/motionless.svg)](https://pypi.python.org/pypi/motionless/)
[![Build Status](https://travis-ci.org/ryancox/motionless.svg)](https://travis-ci.org/ryancox/motionless)
[![Coverage Status](https://coveralls.io/repos/ryancox/motionless/badge.svg?branch=master&service=github)](https://coveralls.io/github/ryancox/motionless?branch=master)


motionless is a Python library that takes the pain out of generating [Google Static Map](http://code.google.com/apis/maps/documentation/staticmaps/) URLs. Three map types are supported. Each is illustrated below. For fully worked code see the examples directory for code that parses and visualizes both GeoRSS feeds and GPX files.

motionless is tested with Python versions 3.9 to 3.11.

Code is licensed under Apache 2.0

For DecoratedMaps, paths are encoded using [gpolyencode](http://code.google.com/p/py-gpolyencode/) (shipped with motionless). This is useful for keeping URLs with in the 2048 character limit imposed by the service.


Important
=========

As of October 2018, Google Static Map API [no longer supports keyless access](https://developers.google.com/maps/documentation/maps-static/usage-and-billing).
This means that if you want to continue using motionless, you'll need to
generate and use a personal API key.


Installation instructions
=========================

Motionless is a pure python package. Install it with conda (or mamba):

```
$ conda install -c conda-forge motionless
```

or pip:

```
$ pip install motionless
```


CenterMap
=========

CenterMaps show a map with no markers or paths, centered on a single location.

```python
from motionless import CenterMap
cmap = CenterMap(address='151 third st, san francisco, ca', key=key)
print(cmap.generate_url())
```

![SFMOMA](https://camo.githubusercontent.com/f0c30f2f4bf82bab7385f185666a4d77a0918a59aa2c553fabb722815ee50d8f/68747470733a2f2f6d6170732e676f6f676c65617069732e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d726f61646d617026666f726d61743d706e67267363616c653d312663656e7465723d3135312532307468697264253230737425324325323073616e2532306672616e636973636f2532432532306361267a6f6f6d3d31372673697a653d343030783430302673656e736f723d66616c7365266c616e67756167653d656e)

```python
from motionless import CenterMap
cmap = CenterMap(lat=48.858278, lon=2.294489, maptype='satellite', key=key)
print(cmap.generate_url())
```

![La Tour Eiffel](https://camo.githubusercontent.com/d7cafefec86e0a9bb6748cb41d2dca83a493152d78f19a231929c05177c29e7f/68747470733a2f2f6d6170732e676f6f676c65617069732e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d736174656c6c69746526666f726d61743d706e67267363616c653d312663656e7465723d34382e383538323738253243322e323934343839267a6f6f6d3d31372673697a653d343030783430302673656e736f723d66616c7365266c616e67756167653d656e)

VisibleMap
==========

VisibleMaps show a map with no markers or paths, automatically sized and zoomed to make the specified locations visible.

```python
from motionless import VisibleMap
vmap = VisibleMap(maptype='terrain', key=key)
vmap.add_address('Sugarbowl, Truckee, CA')
vmap.add_address('Tahoe City, CA')
print(vmap.generate_url())
```

![Sugarbowl and Tahoe City](https://camo.githubusercontent.com/9c7d9f51ceaa02e065704b15424d3ac4aff1ee4ff2544d84d1eeaa9d066be446/687474703a2f2f6d6170732e676f6f676c652e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d7465727261696e26666f726d61743d706e67267363616c653d312673697a653d343030783430302673656e736f723d66616c73652676697369626c653d5375676172626f776c253243253230547275636b656525324325323043412537435461686f65253230436974792532432532304341266c616e67756167653d656e)

DecoratedMap
============

DecoratedMaps contain markers and/or paths. They are automatically sized and
zoomed to make the specified elements visible.

```python
from motionless import DecoratedMap, LatLonMarker
dmap = DecoratedMap(maptype='satellite', key=key)
dmap.add_marker(LatLonMarker(27.988056, 86.925278, label='S'))
dmap.add_marker(LatLonMarker(28.007222, 86.859444, label='B'))
print(dmap.generate_url())
```

![Everest Basecamp](https://camo.githubusercontent.com/cec5a51b2cf67b8eaaea491ae5872e1f4e7416be3220c1bf4eba1569c3a56259/68747470733a2f2f6d6170732e676f6f676c652e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d736174656c6c69746526666f726d61743d706e67267363616c653d312673697a653d343030783430302673656e736f723d66616c7365266c616e67756167653d656e266d61726b6572733d2537436c6162656c3a4225374332382e3030373232322c38362e383539343434266d61726b6572733d2537436c6162656c3a5325374332372e3938383035362c38362e393235323738)

You can add a list of [style definitions](https://developers.google.com/maps/documentation/static-maps/intro#StyledMaps)
to add custom styling to your map.

```python
from motionless import DecoratedMap, AddressMarker
road_styles = [{
    'feature': 'road.highway',
    'element': 'geomoetry',
    'rules': {
        'visibility': 'simplified',
        'color': '#c280e9'
    }
}, {
    'feature': 'transit.line',
    'rules': {
        'visibility': 'simplified',
        'color': '#bababa'
    }
}]
dmap = DecoratedMap(style=road_styles, key=key)
dmap.add_marker(AddressMarker('1 Infinite Loop, Cupertino, CA',label='A'))
dmap.add_marker(AddressMarker('1600 Amphitheatre Parkway Mountain View, CA',label='G'))
print(dmap.generate_url())
```

![Apple and Google](https://camo.githubusercontent.com/ceb9b75de5cf44503826fb40124033aa41fa566cf06ae3f2633f4b4187da175d/687474703a2f2f6d6170732e676f6f676c652e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d726f61646d617026666f726d61743d706e67267363616c653d312673697a653d343030783430302673656e736f723d66616c7365266c616e67756167653d656e266d61726b6572733d2537436c6162656c3a4725374331363030253230416d706869746865617472652532305061726b7761792532304d6f756e7461696e253230566965772532432532304341266d61726b6572733d2537436c6162656c3a4125374331253230496e66696e6974652532304c6f6f70253243253230437570657274696e6f2532432532304341267374796c653d666561747572653a726f61642e68696768776179253743656c656d656e743a67656f6d6f657472792537437669736962696c6974793a73696d706c6966696564253743636f6c6f723a3078633238306539253743267374796c653d666561747572653a7472616e7369742e6c696e65253743656c656d656e743a616c6c2537437669736962696c6974793a73696d706c6966696564253743636f6c6f723a3078626162616261253743)


Further examples
================


![Munich](https://camo.githubusercontent.com/9e4a46618130d0ae5815f904534b1f9d6a6a159926c288c820c08fda9ff2fb81/687474703a2f2f6d6170732e676f6f676c652e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d726f61646d617026666f726d61743d706e67267363616c653d312673697a653d363430783634302673656e736f723d66616c7365266c616e67756167653d656e266d61726b6572733d253743636f6c6f723a7265642537436c6162656c3a4525374334382e3335313838332c31312e373931343734266d61726b6572733d253743636f6c6f723a677265656e2537436c6162656c3a5325374334382e3136373035312c31312e35363530383826706174683d636f6c6f723a626c75652537437765696768743a38253743656e633a6173253745644877787165416325343056504c5f2534304d253744434f75424267476e253430714458253742466d416f4879426347614465437743253742447741654277486143634e4b5f414b63424425374242435f464563416e4361734125374544634f584e70253430457425343044584366253430495253522535444c2535444a6741426525343025334669253430517741612534306d41792534305f41634e2537444b6d486f476d4769477748694b6d456d4c7742734b25374442794f253742432537444b5f466f4b5f4873495f4a6f47674a6345654a734425374255614a676525343061526b6f2534306f5769515f48796d253430715675662534307952632535435f4e637025343067572537442537422534307725354471642534302537425077505f4367504879516e432537427a2534306453776f2534302536305077536a48656b2534306a566d253542704e5f6b25343076585f486a44694b25363046754c6e4769496c446f476a44634a68436b476d253430634961456546654779456b4c714971546d496355734a79566b46795179466b55634a6d63253430614877642534307345736425343073446b6a25343071415f6525343059652536302534304b61642534305f416d6625343063435f25354367447754694861585f4b65552537444b6d506d4f69516b4e7552674a6f5269476952674a79537542774b59734a762534306d57612534306f5569436b762534306d417125363025343061417158253744253430655a6f253430253742253544672534306d5a486946526d424e752534304e712534306c25343025374241566d2534307241253742422536304161416225343057724271253430784a7942782534302535426e2534306925343025374325343079414e253544662534306d424e6f412533466d436d25343061504925374452632534306350712534307153253544694125334671253430434f474d47494d2533464f4a454e71253430546d485467444e57253543412537442534304b73415f253430612534306325343042)

Produced from parsing GPX file. See [examples/munich.py](http://github.com/ryancox/motionless/blob/master/examples/munich.py)

![Earthquakes](https://camo.githubusercontent.com/3155f0c0052bc7bf7df5bc3e8b09d48e6ad83ebbe93b3c25288ee371e6501dfc/687474703a2f2f6d6170732e676f6f676c652e636f6d2f6d6170732f6170692f7374617469636d61703f6b65793d41497a61537944626932586e4a7143645052545461322d77595547703656737a394c3633695955266d6170747970653d726f61646d617026666f726d61743d706e67267363616c653d312673697a653d363430783434302673656e736f723d66616c7365266c616e67756167653d656e266d61726b6572733d25374373697a653a736d616c6c253743636f6c6f723a79656c6c6f772537432d33372e333936362c3137392e3239373525374331382e313838362c2d36382e3035323525374334302e373335303030362c2d3132312e3532353030313525374335392e363130362c2d3135322e36313425374332332e313230312c39322e3739323625374333362e333236382c2d39372e3532303625374331392e303438352c2d36372e3831363525374336312e3532372c2d3134302e3639363925374332322e383932332c39342e3538383725374335382e343733352c2d3134322e3731353125374333382e373738333331382c2d3132322e3732353136363325374331382e353037372c2d36362e38333735253743372e303735372c39322e3436343725374332322e323031362c3134332e3834323125374331362e313934392c2d36312e353033382537432d342e3635352c3135322e3834373425374333362e383636392c3134312e3439393525374334332e353934312c31312e3036353225374335362e373235382c2d3135382e323036372537432d31352e363030352c2d3137352e3238303725374333372e313532362c2d39372e3833353425374331392e323038342c2d36342e353237382537432d342e383935342c2d38312e3238353925374335382e393031392c2d3135342e3437323525374333392e303333303030392c2d3132322e353931383335253743372e383637342c3133372e3231373125374331382e393834332c2d36352e3332323325374331372e383434362c2d36352e3634393425374333362e363535382c35382e363236312537432d31362e373034362c2d3137332e38383225374336312e343936342c2d3135312e333237382537432d362e3632392c3135342e38383434266d61726b6572733d25374373697a653a736d616c6c253743636f6c6f723a6f72616e67652537432d31352e363235392c2d3137342e39313133)

Produced from geojson feed. See [examples/earthquakes.py](http://github.com/ryancox/motionless/blob/master/examples/earthquakes.py)
